<<<<<<< Updated upstream
=======
# Missing/Broken base-game triggers
has_monarchist_ideology = {
	OR = {
		has_ideology = ideology:ideology_royalist
		has_ideology = ideology:ideology_orleanist
		has_ideology = ideology:ideology_bonapartist
		has_ideology = ideology:ideology_legitimist
		has_ideology = ideology:ideology_humanitarian_royalist	# Added
	}
}
ideology_royalist_valid_trigger = {
	OR = {
		is_interest_group_type = ig_devout
		is_interest_group_type = ig_rural_folk
		is_interest_group_type = ig_petty_bourgeoisie
		is_interest_group_type = ig_armed_forces
		trigger_if = { limit = { NOT = { has_ideology = ideology:ideology_republican_paternalistic } } is_interest_group_type = ig_landowners }		# Added
	}
}
ideology_atheist_valid_trigger = {
	OR = {
		is_interest_group_type = ig_trade_unions
		is_interest_group_type = ig_rural_folk			# Added
		is_interest_group_type = ig_armed_forces
		is_interest_group_type = ig_petty_bourgeoisie
		is_interest_group_type = ig_intelligentsia
		trigger_if = { limit = { has_ideology = ideology:ideology_republican_paternalistic } is_interest_group_type = ig_landowners }		# Added
	}
}
ideology_republican_leader_valid_trigger = {
	OR = {
		is_interest_group_type = ig_trade_unions
		is_interest_group_type = ig_armed_forces
		is_interest_group_type = ig_petty_bourgeoisie
		is_interest_group_type = ig_industrialists
		trigger_if = { limit = { has_ideology = ideology:ideology_republican_paternalistic } is_interest_group_type = ig_landowners }		# Added
	}
}
ideology_social_democrat_valid_trigger = {
	OR = {
		is_interest_group_type = ig_devout
		is_interest_group_type = ig_rural_folk
		is_interest_group_type = ig_intelligentsia
		is_interest_group_type = ig_trade_unions
		is_interest_group_type = ig_armed_forces
		is_interest_group_type = ig_petty_bourgeoisie	# Added
	}
}
ideology_communist_valid_trigger = {
	OR = {
		is_interest_group_type = ig_rural_folk
		is_interest_group_type = ig_intelligentsia
		is_interest_group_type = ig_trade_unions
		is_interest_group_type = ig_armed_forces
		trigger_if = { limit = { c:CHI ?= OWNER } is_interest_group_type = ig_landowners }		# Added
	}
}
ideology_vanguardist_valid_trigger = {
	OR = {
		is_interest_group_type = ig_rural_folk
		is_interest_group_type = ig_intelligentsia
		is_interest_group_type = ig_trade_unions
		is_interest_group_type = ig_armed_forces
		trigger_if = { limit = { c:CHI ?= OWNER } is_interest_group_type = ig_landowners }		# Added
	}
}
trigger_trans_siberian_railway = {	# Not broken, just too large to comfortably fit into the buildings/building_infrastructure file
	OWNER = { has_journal_entry = je_trans_siberian_railway }
	NOT = { has_building = building_railway }
	OR = {
		state_region = s:STATE_MOSCOW
		state_region = s:STATE_YAROSLAVL
		state_region = s:STATE_NIZHNY_NOVGOROD
		state_region = s:STATE_CHUVASHIA
		state_region = s:STATE_KAZAN
		state_region = s:STATE_UFA
		state_region = s:STATE_CHELYABINSK
		state_region = s:STATE_URAL
		state_region = s:STATE_TOBOLSK
		state_region = s:STATE_TOMSK
		state_region = s:STATE_KRASNOYARSK
		state_region = s:STATE_IRKUTSK
		state_region = s:STATE_BURYATIA
		state_region = s:STATE_TRANS_BAIKAL
		state_region = s:STATE_YAKUTSK
		state_region = s:STATE_OKHOTSK
		state_region = s:STATE_AMUR
		state_region = s:STATE_OUTER_MANCHURIA
	}
}
trigger_manchurian_railway = {	# Not broken, just too large to comfortably fit into the buildings/building_infrastructure file
	exists = c:RUS
	c:RUS ?= owner
	region = sr:region_manchuria
	any_scope_building = {
		is_building_type = building_railway
		levels_owned_by_country = {  
			target = c:RUS  
			value  < 1
		}
	}
}
trigger_backwards_agenda = {
	OR = {
		has_strategy = ai_strategy_conservative_agenda
		has_strategy = ai_strategy_reactionary_agenda
		has_strategy = ai_strategy_maintain_mandate_of_heaven
	}
}
trigger_chose_extremism = {
	OR = {
		has_variable = communist_ig_var
		has_variable = chose_vanguardism
		has_variable = chose_anarchism
		has_variable = chose_communism
		has_variable = chose_ethno_nationalism
		has_variable = chose_conservatism
		has_variable = chose_fascism
	}
}
trigger_chose_not_communism = {
	OR = {
		has_variable = chose_vanguardism
		has_variable = chose_anarchism
		has_variable = chose_conservatism
		has_variable = chose_fascism
		has_variable = chose_ethno_nationalism
	}
}
trigger_chose_not_vanguardism = {
	OR = {
		has_variable = chose_communism
		has_variable = chose_anarchism
		has_variable = chose_conservatism
		has_variable = chose_fascism
		has_variable = chose_ethno_nationalism
	}
}
trigger_chose_not_anarchy = {
	OR = {
		has_variable = chose_vanguardism
		has_variable = chose_communism
		has_variable = chose_conservatism
		has_variable = chose_fascism
		has_variable = chose_ethno_nationalism
	}
}
trigger_chose_not_fascism = {
	OR = {
		has_variable = communist_ig_var
		has_variable = chose_vanguardism
		has_variable = chose_anarchism
		has_variable = chose_communism
		has_variable = chose_ethno_nationalism
	}
}
trigger_chose_not_ethno_nationalism = {
	OR = {
		has_variable = communist_ig_var
		has_variable = chose_vanguardism
		has_variable = chose_anarchism
		has_variable = chose_communism
		has_variable = chose_fascism
	}
}
trigger_no_republican_monarch = {
	NAND = {	# Monarchs cannot be republicans
		OWNER = { has_law	= law_type:law_monarchy }
		OR = {
			is_ruler	= yes
			is_heir		= yes
		}
	}
}
trigger_BIC_british_dictate = {
	scope:target_country = {
		c:BIC ?= this
		OR = {	
			has_journal_entry = je_british_dictate_plantations
			has_journal_entry = je_british_dictate_military
			has_journal_entry = je_british_dictate_universities
		}
	}
}
trigger_army_leader = {
	OR = {
		has_role = general
		has_role = admiral
	}
}
trigger_junker_landowners = {
	any_interest_group = { has_ideology = ideology:ideology_junker_paternalistic }
}
trigger_PREV_has_investment_rights = {
	OR = {
		has_diplomatic_pact = { who = PREV type = foreign_investment_rights is_initiator = no }
		AND = {
			market.OWNER = PREV
			is_in_customs_union_with = PREV
		}
	}
}
trigger_bureacracy_admin_state = {
	OR = {
		is_capital = yes
		any_scope_building = { is_building_type = building_skyscraper }
		OWNER = { has_law = law_type:law_elected_bureaucrats }
	}
}
trigger_valid_pop_spawn_state = {
	OR = {
		var:peasantsToSpawn			> 0
		var:peasantsToSpawnHundredk	> 0
		var:peasantsToSpawn1M		> 0
	}
	OR = {
		any_scope_building = { is_subsistence_building = yes }
		any_scope_building = { is_building_type = building_autarky_farm }
		any_scope_building = { is_building_type = building_infres_autarky_farm }
	}
}
trigger_auto_expand_railway = {
	OR = {
		cash_reserves_ratio > 0.75
		is_subsidized = yes
	}
	OR = {
		weekly_profit		>= 2500
		state = { sg:transportation = { state_goods_pricier > 0 } }	# Changed
		state = { relative_infrastructure < 1 }
		# state.market_access < 1	# Causes issue when you are a puppet connected by convoys
	}
	occupancy > 0.975 # Don't try to expand unless sufficient employment
	state = { NOT = { is_isolated_from_market = yes } }	# Needs to be this way.
	building_has_goods_shortage = no
}
trigger_auto_expand_trade = {	# TODO
	always = no
}
trigger_auto_expand_power = {
	OR = {
		cash_reserves_ratio > 0.75
		is_subsidized = yes
	}
	OR = {
		weekly_profit		>= 2500
		state = { sg:electricity = { state_goods_pricier > 0 } }	
	}
	state.market_access	> 0.9
	occupancy			> 0.95
	building_has_goods_shortage = no
}
trigger_auto_expand_admin = {
	occupancy > 0.95
	OR = {
		state.tax_capacity < state.tax_capacity_usage
		AND = {
			STATE = { trigger_bureacracy_admin_state = yes }
			OR = {
				OWNER = { bureaucracy <= 0 }
				OWNER = { approaching_bureaucracy_shortage = yes }
			}
		}
	}
	building_has_goods_shortage = no
	state.market_access > 0.9
}
trigger_auto_expand_port = {
	OR = {
		trigger_if = {
			limit = { OWNER = { NOT = { has_technology_researched = railways } } }	# Placeholder for land adjacency
			state = { market_access < 1 }
		}
		custom_tooltip = {
			text = insufficient_convoys.tt
			OWNER = {
				modifier:country_convoy_contribution_to_market_owner_add < 1
				OR = {
					num_convoys_available < num_convoys_required
					any_trade_route = { trade_route_needs_convoys_to_grow = yes }
				}
			}
		}
		trigger_if = {
			limit = { NOT = { OWNER = market.OWNER } state = { is_incorporated = yes } }
			custom_tooltip = {
				text = market_owner_insufficient_convoys.tt
				market.OWNER = {
					OR = {
						num_convoys_available < num_convoys_required
						any_trade_route = { trade_route_needs_convoys_to_grow = yes }
					}
				}
			}
		}
		AND = {
			weekly_profit > 0
			state = { sg:transportation = { state_goods_pricier > 0.5 } }
		}
	}
	occupancy = 1
	building_has_goods_shortage = no
}
trigger_auto_expand_infres_port = {
	trigger_auto_expand_port = yes
	state = {
		trigger_if = {
			limit = { has_building = building_port }
			custom_tooltip = {
				text = "The [THIS.GetState.GetBuilding('building_port').GetName] in [THIS.GetState.GetName] cannot expand."
				b:building_port.level >= modifier:state_building_port_max_level_add
			}
		}
		trigger_else = { always = no }
	}
}
trigger_forbidden_heavy_industry = {	# Using a NOT and OR seperately instead of NOR to make it more versatile
	OR = {
		has_law = law_type:law_industry_banned
		has_law = law_type:law_extraction_economy
	}
}
>>>>>>> Stashed changes
# Rules for infinite buildings
trigger_private_construction = {
	OR = {
		AND = {
			OR = {
				owner = { is_player = yes }
				owner = {
					any_overlord_or_above = { is_player = yes }
					is_country_type = colonial
					is_subject = yes	# Not Customs Union
				}
			}
			has_game_rule = infres_private_construction_allowed
		}
		AND = {
			has_game_rule = infres_player_and_ai_allowed
			has_game_rule = infres_private_construction_allowed
		}
	}
}
trigger_private_construction_res = {
	OR = {
		AND = {
			owner = { is_player = yes }
			has_game_rule = infres_private_construction_allowed
		}
		AND = {
			has_game_rule = infres_player_and_ai_allowed
			has_game_rule = infres_private_construction_allowed
		}
	}
}
trigger_gov_construction = {
	OR = {
		owner = { is_player = yes }
		owner = {
			any_overlord_or_above = { is_player = yes }
			# is_country_type = colonial
			is_subject = yes	# Not Customs Union
		}
		has_game_rule = infres_player_and_ai_allowed
	}
}
trigger_gov_construction_res = {
	OR = {
		owner = { is_player = yes }
		has_game_rule = infres_player_and_ai_allowed
	}
}
trigger_no_autarky_farms = {
<<<<<<< Updated upstream
	error_check = {
		severity = fail
		NOR = { 
			any_scope_building = { is_building_type = building_generic_subsistence }
			any_scope_building = { is_building_type = building_infres_generic_subsistence }
		}
=======
	NOR = { 
		any_scope_building = { is_building_type = building_autarky_farm }
		any_scope_building = { is_building_type = building_infres_autarky_farm }
>>>>>>> Stashed changes
	}
}
trigger_incorporated_or_incorporating = {
	OR = {
		is_incorporated = yes
		incorporation_progress > 0
	}
}
trigger_inhospitable_terrain = {
	OR = {
		has_state_trait = state_trait_the_great_basin_desert
		has_state_trait = state_trait_atacama_desert
		has_state_trait = state_trait_sahara_desert
		has_state_trait = state_trait_sahel
		has_state_trait = state_trait_arabian_desert
		has_state_trait = state_trait_gobi_desert
		has_state_trait = state_trait_australian_desert
		has_state_trait = state_trait_siberian_terrain
		has_state_trait = state_trait_northern_canadian_terrain
		has_state_trait = state_trait_tihamah		# Arabian Desert + Mountains
		has_state_trait = state_trait_gran_chaco	# South American Wasteland west of the Pampas
	}
}
trigger_chinese_state = {	# any_scope_state left out intentionally to make it more versatile.
	OR = {
		region = sr:region_north_china
		region = sr:region_south_china
		AND = {
			region = sr:region_manchuria
			state_region = { NOT = { is_homeland = cu:korean } }
		}
		AND = {
			region = sr:region_himalayas
			state_region = { NOT = { is_homeland = cu:nepali } }
		}
		AND = {	# It's easier to group them together than to make another admin - Also, historically accurate.
			region = sr:region_central_asia
			state_region = { is_homeland = cu:uighur }
		}
	}
}
<<<<<<< Updated upstream
=======
trigger_microstate = {
	OR = {
		AND = {
			state_region = s:STATE_SINAI				# Canal has priority
			trigger_if = { limit = { is_split_state = yes } is_largest_state_in_region = no }
		}
		AND = {
			state_region = s:STATE_PANAMA				# Canal has priority
			trigger_if = { limit = { is_split_state = yes } is_largest_state_in_region = no }
		}
		state_region = s:STATE_DISTRICT_OF_COLUMBIA		# Too small
		arable_land < 5
	}
}
trigger_shipyards_allowed = {
	trigger_if = {
		limit = { OWNER = { is_player = yes } }
		OR = {
			is_capital = yes
			THIS = s:STATE_NEW_YORK.region_state:USA
			has_building = building_shipyards
			has_building = building_military_shipyards
			has_decree = decree_encourage_manufacturing_industry
		}
		trigger_if = {
			limit = { is_capital = no }
			NOT = { OWNER.capital = { any_scope_building = { is_building_type = building_shipyards } } }
		}
		trigger_if = {
			limit = { is_capital = yes }
			NOT = { OWNER = { any_scope_state = { THIS = s:STATE_NEW_YORK.region_state:USA } } }
		}
		# NOT = { trigger_microstate = yes }
	}
	is_coastal = yes
}
trigger_mil_shipyards_allowed = {
	trigger_if = {
		limit = { OWNER = { is_player = yes } }
		OR = {
			is_capital = yes
			THIS = s:STATE_NEW_YORK.region_state:USA
			has_building = building_shipyards
			has_building = building_military_shipyards
			has_decree = decree_encourage_manufacturing_industry
		}
		trigger_if = {
			limit = { is_capital = no }
			NOT = { owner.capital = { any_scope_building = { is_building_type = building_military_shipyards } } }
		}
		trigger_if = {
			limit = { is_capital = yes }
			NOT = { OWNER = { any_scope_state = { THIS = s:STATE_NEW_YORK.region_state:USA } } }
		}
		# NOT = { trigger_microstate = yes }
	}
	is_coastal = yes
}
trigger_arms_industry_allowed = {
	trigger_if = {
		limit = { OWNER = { is_player = yes } }
		OR = {
			is_capital = yes
			THIS = s:STATE_NEW_YORK.region_state:USA
			has_building = building_arms_industry
		}
	}
	trigger_if = {
		limit = { OWNER = { any_scope_state = { is_capital = no } } }
		NOT = { trigger_microstate = yes }
	}
}
trigger_artillery_foundries_allowed = {
	trigger_if = {
		limit = { OWNER = { is_player = yes } }
		OR = {
			is_capital = yes
			THIS = s:STATE_NEW_YORK.region_state:USA
			has_building = building_artillery_foundries
		}
	}
	trigger_if = {
		limit = { OWNER = { any_scope_state = { is_capital = no } } }
		NOT = { trigger_microstate = yes }
	}
}
trigger_munitions_plants_allowed = {
	trigger_if = {
		limit = { OWNER = { is_player = yes } }
		OR = {
			is_capital = yes
			THIS = s:STATE_NEW_YORK.region_state:USA
			has_building = building_munition_plants
		}
	}
	OWNER = { NOT = { has_law = law_type:law_industry_banned } }
	trigger_if = {
		limit = { OWNER = { any_scope_state = { is_capital = no } } }
		NOT = { trigger_microstate = yes }
	}
}
trigger_war_machine_industry_allowed = {
	trigger_if = {
		limit = { OWNER = { is_player = yes } }
		OR = {
			is_capital = yes
			THIS = s:STATE_NEW_YORK.region_state:USA
			has_building = building_war_machine_industry
		}
	}
	OWNER = { NOT = { trigger_forbidden_heavy_industry = yes } }
	trigger_if = {
		limit = { OWNER = { any_scope_state = { is_capital = no } } }
		NOT = { trigger_microstate = yes }
	}
}
trigger_infres_logging_allowed	= {
	OR = {
		NOT = { has_potential_resource = bg_logging }
		any_scope_building = { is_building_type = building_logging_camp NOT = { can_queue_building_levels = 1 } }
		exists = b:building_infres_logging_camp									# Allowed to expand if it already exists
	}
	NOT = { trigger_microstate = yes }
}
trigger_infres_rubber_allowed	= {
	OR = {
		NOT = { has_potential_resource = bg_rubber_plantations }
		any_scope_building = { is_building_group = bg_rubber_plantations NOT = { can_queue_building_levels = 1 } }
	}
	NOT = { trigger_microstate = yes }
}
trigger_infres_fishing_allowed	= {
	is_sea_adjacent = yes
	OR = {
		NOT = { has_potential_resource = bg_fishing }
		any_scope_building = { is_building_type = building_fishing_wharf NOT = { can_queue_building_levels = 1 } }
		exists = b:building_infres_fishing_wharf								# Allowed to expand if it already exists
	}
}
trigger_infres_whaling_allowed	= {
	is_sea_adjacent = yes
	OR = {
		NOT = { has_potential_resource = bg_whaling }
		any_scope_building = { is_building_type = building_whaling_station NOT = { can_queue_building_levels = 1 } }
		exists = b:building_infres_whaling_station								# Allowed to expand if it already exists
	}
}
trigger_infres_coal_allowed		= {
	OR = {
		OWNER = { has_variable = enable_inf_seed_ext }
		exists = b:building_infres_coal_mine		# Allowed to expand if it already exists
	}
	NOT = { any_scope_building = { is_building_type = building_charcoal_burner } }
}
trigger_infres_iron_allowed		= {
	OR = {
		OWNER = { has_variable = enable_inf_seed }
		exists = b:building_infres_iron_mine		# Allowed to expand if it already exists
	}
}
trigger_infres_lead_allowed		= {
	OR = {
		OWNER = { has_variable = enable_inf_seed }
		exists = b:building_infres_lead_mine		# Allowed to expand if it already exists
	}
}
trigger_infres_sulphur_allowed	= {
	OR = {
		OWNER = { has_variable = enable_inf_seed_ext }
		exists = b:building_infres_sulfur_mine		# Allowed to expand if it already exists
	}
}
trigger_infres_gold_allowed		= {
	scope:investor_country = { is_player = yes }
	OR = {
		OWNER = { has_variable = enable_inf_seed_ext }
		exists = b:building_infres_gold_mine		# Allowed to expand if it already exists
	}
}
trigger_infres_oil_allowed		= {
	OR = {
		OWNER = { has_variable = enable_inf_seed_ext }
		exists = b:building_infres_oil_rig			# Allowed to expand if it already exists
	}
	NOT = { any_scope_building = { is_building_type = building_synthetic_oil_plants } }
}
trigger_finite_plantation = {
	OR = {
		is_building_type = building_vineyard_plantation
		is_building_type = building_coffee_plantation
		is_building_type = building_cotton_plantation
		is_building_type = building_dye_plantation
		is_building_type = building_opium_plantation
		is_building_type = building_tea_plantation
		is_building_type = building_tobacco_plantation
		is_building_type = building_sugar_plantation
		is_building_type = building_banana_plantation
		is_building_type = building_silk_plantation
	}
}
trigger_infres_plantation = {
	OR = {
		is_building_type = building_infres_vineyard_plantation
		is_building_type = building_infres_coffee_plantation
		is_building_type = building_infres_cotton_plantation
		is_building_type = building_infres_dye_plantation
		is_building_type = building_infres_opium_plantation
		is_building_type = building_infres_tea_plantation
		is_building_type = building_infres_tobacco_plantation
		is_building_type = building_infres_sugar_plantation
		is_building_type = building_infres_banana_plantation
		is_building_type = building_infres_silk_plantation
	}
}
trigger_infres_resource = {
	OR = {
		is_building_type = building_infres_logging_camp
		is_building_type = building_infres_iron_mine
		is_building_type = building_infres_lead_mine
	}
}

trigger_instant_seed_autarky = {
	any_country = {
		OR = {
			THIS = ROOT
			trigger_PREV_has_investment_rights = yes
		}
		any_scope_state = { NOT = { has_building = building_autarky_farm } }
		any_scope_state = { NOT = { has_building = building_infres_autarky_farm } }
	}
}
>>>>>>> Stashed changes
trigger_seed_plantations = {
	has_technology_researched = enclosure
	any_scope_state = {
		trigger_inhospitable_terrain = no
		is_treaty_port = no
		OR = {
<<<<<<< Updated upstream
			NOT = { any_scope_building = { is_building_type = building_infres_generic_subsistence } }
			AND = {
=======
			NOT = { any_scope_building = { is_building_type = building_infres_autarky_farm } }
			NOT = { any_scope_building = { is_building_type = building_infres_cotton_plantation } }
			trigger_if = {
				limit = { OWNER = { OR = { THIS = c:BRZ any_primary_culture = { has_cultural_obsession = sugar } } } }
>>>>>>> Stashed changes
				NOT = { any_scope_building = { is_building_type = building_infres_sugar_plantation } }
				owner = { any_primary_culture = { has_cultural_obsession = sugar } }
			}
			NOT = { any_scope_building = { is_building_type = building_infres_vineyard_plantation } }
			NOT = { any_scope_building = { is_building_type = building_infres_coffee_plantation } }
			NOT = { any_scope_building = { is_building_type = building_infres_tea_plantation } }
			AND = {
				NOT = { any_scope_building = { is_building_type = building_infres_dye_plantation } }
				NOT = { owner = { has_technology_researched = aniline } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_infres_silk_plantation } }
				NOT = { owner = { has_technology_researched = art_silk } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_infres_opium_plantation } }
				NOT = { owner = { is_banning_goods = g:opium } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_infres_tobacco_plantation } }
				NOT = { owner = { is_banning_goods = g:tobacco } }
			}
		}
	}
}
trigger_seed_resorces = {
	any_scope_state = {
		OR = {
			AND = {
				has_potential_resource = bg_logging
				NOT = { any_scope_building = { is_building_type = building_logging_camp } }
			}
			AND = {
				has_potential_resource = bg_gold_mining
				NOT = { any_scope_building = { is_building_type = building_gold_mine } }
				owner = { has_technology_researched = prospecting }
			}
			AND = {
				has_potential_resource = bg_coal_mining
				NOT = { any_scope_building = { is_building_type = building_coal_mine } }
				owner = { has_technology_researched = shaft_mining }
			}
			AND = {
				has_potential_resource = bg_iron_mining
				NOT = { any_scope_building = { is_building_type = building_iron_mine } }
				owner = { has_technology_researched = shaft_mining }
			}
			AND = {
				has_potential_resource = bg_lead_mining
				NOT = { any_scope_building = { is_building_type = building_lead_mine } }
				owner = { has_technology_researched = shaft_mining }
			}
			AND = {
				has_potential_resource = bg_sulfur_mining
				NOT = { any_scope_building = { is_building_type = building_sulfur_mine } }
				owner = { has_technology_researched = shaft_mining }
			}
			AND = {
				has_potential_resource = bg_rubber
				NOT = { any_scope_building = { is_building_type = building_rubber_plantation } }
				owner = { has_technology_researched = rubber_mastication }
			}
			AND = {
				has_potential_resource = bg_oil_extraction
				NOT = { any_scope_building = { is_building_type = building_oil_rig } }
				owner = { has_technology_researched = pumpjacks }
			}
			AND = {
				is_coastal = yes
				has_potential_resource = bg_fishing
				NOT = { any_scope_building = { is_building_type = building_fishing_wharf } }
			}
			AND = {
				is_coastal = yes
				has_potential_resource = bg_whaling
				NOT = { any_scope_building = { is_building_type = building_whaling_station } }
				owner = { has_technology_researched = navigation }
			}
		}
	}
}
trigger_seed_industry = {
	has_technology_researched = manufacturies
	any_scope_state = {
		trigger_incorporated_or_incorporating = yes
		OR = {
			AND = {
				NOT = { any_scope_building = { is_building_type = building_tooling_workshops } }
				owner = { has_technology_researched = manufacturies }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_glassworks } }
				owner = { has_technology_researched = manufacturies }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_textile_mills } }
				owner = { has_technology_researched = manufacturies }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_furniture_manufacturies } }
				owner = { has_technology_researched = manufacturies }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_paper_mills } }
				owner = { has_technology_researched = manufacturies }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_food_industry } }
				owner = { has_technology_researched = manufacturies }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_charcoal_burner } }
				owner = { has_technology_researched = manufacturies }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_steel_mills } }
				owner = { has_technology_researched = steelworking }
				NOT = { owner = { has_law = law_type:law_industry_banned } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_chemical_plants } }
				owner = { has_technology_researched = intensive_agriculture }
				NOT = { owner = { has_law = law_type:law_industry_banned } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_explosives_factory } }
				owner = { has_technology_researched = intensive_agriculture }
				NOT = { owner = { has_law = law_type:law_industry_banned } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_synthetic_oil_plants } }
				owner = { has_technology_researched = distillation }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_motor_industry } }
				owner = { has_technology_researched = atmospheric_engine }
				NOT = { owner = { has_law = law_type:law_industry_banned } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_synthetics_plants } }
				owner = { has_technology_researched = aniline }
				NOT = { owner = { has_law = law_type:law_industry_banned } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_electrics_industry } }
				owner = { has_technology_researched = telephone }
				NOT = { owner = { has_law = law_type:law_industry_banned } }
			}
		}
	}
}
trigger_seed_military_industry = {
	has_technology_researched = manufacturies
	capital = {
		OR = {
			AND = {
				NOT = { any_scope_building = { is_building_type = building_arms_industry } }
				owner = { has_technology_researched = gunsmithing }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_artillery_foundries } }
				owner = { has_technology_researched = artillery }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_munition_plants } }
				owner = { has_technology_researched = percussion_cap }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_war_machine_industry } }
				owner = { OR = { has_technology_researched = military_aviation has_technology_researched = carrier_tech } }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_shipyards } }
				owner = { has_technology_researched = navigation }
				is_coastal = yes
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_military_shipyards } }
				owner = { has_technology_researched = navigation }
				is_coastal = yes
			}
		}
	}
}
trigger_seed_infrastructure = {
	any_scope_state = {
		OR = {
			AND = {
				NOT = { any_scope_building = { is_building_type = building_government_administration } }
				owner = { has_technology_researched = tech_bureaucracy }
				trigger_incorporated_or_incorporating = yes
			}
			AND = {
				is_coastal = yes
				NOT = { any_scope_building = { is_building_type = building_port } }
				owner = { has_technology_researched = navigation }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_railway } }
				owner = { has_technology_researched = railways }
			}
			AND = {
				NOT = { any_scope_building = { is_building_type = building_power_plant } }
				owner = { has_technology_researched = electrical_generation }
			}
		}
	}
}
trigger_build_resources_state = {
	OR = {
		AND = {
			has_potential_resource = bg_logging
			any_scope_building = { is_building_type = building_logging_camp			can_queue_building_levels = 1 }	# Rubber is a subgroup of Logging
		}
		AND = {
			has_potential_resource = bg_gold_mining
			any_scope_building = { is_building_group = building_gold_mine			can_queue_building_levels = 1 }
			owner = { has_technology_researched = prospecting }
		}
		AND = {
			has_potential_resource = bg_coal_mining
			any_scope_building = { is_building_group = bg_coal_mining				can_queue_building_levels = 1 }
			owner = { has_technology_researched = shaft_mining }
		}
		AND = {
			has_potential_resource = bg_iron_mining
			any_scope_building = { is_building_group = building_iron_mine			can_queue_building_levels = 1 }
			owner = { has_technology_researched = shaft_mining }
		}
		AND = {
			has_potential_resource = bg_lead_mining
			any_scope_building = { is_building_group = bg_lead_mining				can_queue_building_levels = 1 }
			owner = { has_technology_researched = shaft_mining }
		}
		AND = {
			has_potential_resource = bg_sulfur_mining
			any_scope_building = { is_building_group = bg_sulfur_mining				can_queue_building_levels = 1 }
			owner = { has_technology_researched = shaft_mining }
		}
		AND = {
			has_potential_resource = bg_rubber
			any_scope_building = { is_building_group = bg_rubber					can_queue_building_levels = 1 }
			owner = { has_technology_researched = rubber_mastication }
		}
		AND = {
			has_potential_resource = bg_oil_extraction
			any_scope_building = { is_building_group = bg_oil_extraction			can_queue_building_levels = 1 }
			owner = { has_technology_researched = pumpjacks }
		}
		AND = {
			has_potential_resource = bg_fishing
			any_scope_building = { is_building_type = building_fishing_wharf		can_queue_building_levels = 1 }	# Whaling is a subgroup of Fishing
			is_coastal = yes
		}
		AND = {
			has_potential_resource = bg_whaling
			any_scope_building = { is_building_type = building_whaling_station		can_queue_building_levels = 1 }
			owner = { has_technology_researched = navigation }
			is_coastal = yes
		}
	}
}
trigger_build_resources = {
	any_scope_state = { trigger_build_resources_state = yes }
}
trigger_build_industry_state = {
	trigger_incorporated_or_incorporating = yes
	OR = {
		AND = {
			var:tools_target > 0
			owner = { has_technology_researched = manufacturies }
		}
		AND = {
			var:glass_target > 0
			owner = { has_technology_researched = manufacturies }
		}
		AND = {
			var:textile_target > 0
			owner = { has_technology_researched = manufacturies }
		}
		AND = {
			var:furniture_target > 0
			owner = { has_technology_researched = manufacturies }
		}
		AND = {
			var:paper_target > 0
			owner = { has_technology_researched = manufacturies }
		}
		AND = {
			var:food_target > 0
			owner = { has_technology_researched = manufacturies }
		}
		AND = {
			var:charcoal_target > 0
			owner = { has_technology_researched = manufacturies }
		}
		AND = {
			var:steel_target > 0
			owner = { has_technology_researched = steelworking }
			NOT = { owner = { has_law = law_type:law_industry_banned } }
		}
		AND = {
			var:fertilizer_target > 0
			owner = { has_technology_researched = intensive_agriculture }
			NOT = { owner = { has_law = law_type:law_industry_banned } }
		}
		AND = {
			var:explosives_target > 0
			owner = { has_technology_researched = intensive_agriculture }
			NOT = { owner = { has_law = law_type:law_industry_banned } }
		}
		AND = {
			var:synth_oil_target > 0
			owner = { has_technology_researched = distillation }
		}
		AND = {
			var:motor_target > 0
			owner = { has_technology_researched = atmospheric_engine }
			NOT = { owner = { has_law = law_type:law_industry_banned } }
		}
		AND = {
			var:synth_dye_target > 0
			owner = { has_technology_researched = aniline }
			NOT = { owner = { has_law = law_type:law_industry_banned } }
		}
		AND = {
			var:electronics_target > 0
			owner = { has_technology_researched = telephone }
			NOT = { owner = { has_law = law_type:law_industry_banned } }
		}
	}
}
trigger_build_industry = {
	has_technology_researched = manufacturies
	any_scope_state = { trigger_build_industry_state = yes }
}
