namespace = pm_switch
pm_switch.1 = {
	type = country_event
	event_image = { video = "gfx/event_pictures/southamerica_election.bk2" }
	# on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	# on_opened_soundeffect = "event:/SFX/Events/southamerica/election"
	# icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	placement = root
	title = "PM Selection"
	desc = "Select the effect"
	flavor = "Flavour text"
	immediate = {	# Fire the calc effects first to ensure working tooltips
		effect_calc_admins		= yes
		effect_calc_railways	= yes
		# effect_calc_powerplants	= yes	# Trigger is broken, thx PDX
	}
	option = {
		name = "Nevermind"
		ai_chance = { base = 10000 }
		default_option = yes
	}
	option = {
		name = "Recalc"
		trigger_event = { id = pm_switch.1 popup = yes }
	}
	option = {
		name = "Gimme the newest Fertilizer"
		trigger = { has_technology_researched = intensive_agriculture }
		effect_fertilizer_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Gimme the newest Tools"
		trigger = { has_technology_researched = manufacturies }
		effect_tools_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Upgrade the Green Power Grid"
		trigger = { has_technology_researched = electrical_generation }
		effect_green_power_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Watertube Boiler"
		trigger = {
			has_technology_researched = watertube_boiler
			NOT = { has_law = law_type:law_industry_banned }
		}
		effect_watertube_boiler_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Rotary-valve Engine"
		trigger = {
			has_technology_researched = rotary_valve_engine
			NOT = { has_law = law_type:law_industry_banned }
		}
		effect_rotary_valve_engine_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Assembly Lines"
		trigger = {
			has_technology_researched = conveyors
			NOT = { has_law = law_type:law_industry_banned }
		}
		effect_assembly_lines_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Full Steam ahead!"
		trigger = { has_technology_researched = railways }
		effect_steam_transport_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "I like (electric) trains."
		trigger = { has_technology_researched = electric_railway }
		effect_electric_transport_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "I like (lizard-juice) trains."
		trigger = { has_technology_researched = compression_ignition }
		effect_diesel_transport_switch = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = pm_switch_sovereign_owned_bureaucrats
		trigger = { NOT = { has_law = law_traditionalism } }
		effect_sovereign_owned_bureaucrats = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = pm_switch_sovereign_owned_clergy
		trigger = { NOT = { has_law = law_traditionalism } NOR = { has_law = law_type:law_total_separation has_law = law_type:law_state_atheism } }
		effect_sovereign_owned_clergy = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = pm_switch_sovereign_owned
		trigger = {
			NOT = { has_law = law_traditionalism }
			has_technology_researched = stock_exchange
		}
		effect_sovereign_owned = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = pm_switch_trade_publicly
		trigger = { has_technology_researched = mutual_funds }
		effect_publicly_traded = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Build Admins"
		trigger = { has_technology_researched = tech_bureaucracy }
		effect_make_admins = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	option = {
		name = "Build Railways"
		trigger = { has_technology_researched = railways }
		effect_make_railways = yes
		trigger_event = { id = pm_switch.1 popup = yes }
		ai_chance = { base = 0 }
	}
	# option = {
		# name = "Build Powerplants"
		# trigger = { has_technology_researched = electrical_generation }
		# effect_make_powerplants = yes
		# trigger_event = { id = pm_switch.1 popup = yes }
		# ai_chance = { base = 0 }
	# }
}